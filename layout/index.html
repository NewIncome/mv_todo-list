<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <link rel="stylesheet" href="./reset.css">
  <link rel="stylesheet" href="./styles.css">
  <title>To Do List App</title>
</head>

<body>
  <main>
    <div class="projects">
      <!-- CARDS -->
      <div class="project-cards">
        <h1 class="title">My Projects</h1>
        <div class="project-cards-content">
          <div class="project-cards-item cards-data" data-id="1">
            <p class="project-title">all projects</p>
            <p class="project-subtitle">25 items</p>
            <div class="options-icon">
              <i class="fas fa-ellipsis-v"></i>
            </div>
          </div>
          <div class="project-cards-item cards-data" data-id="2">
            <p class="project-title">all projects</p>
            <p class="project-subtitle">25 items</p>
            <div class="options-icon">
              <i class="fas fa-ellipsis-v"></i>
            </div>
          </div>
          <div class="project-cards-item cards-data" data-id="3">
            <p class="project-title">all projects</p>
            <p class="project-subtitle">25 items</p>
            <div class="options-icon">
              <i class="fas fa-ellipsis-v"></i>
            </div>
          </div>
          <div class="project-cards-item cards-data" data-id="4">
            <p class="project-title">all projects</p>
            <p class="project-subtitle">25 items</p>
            <div class="options-icon">
              <i class="fas fa-ellipsis-v"></i>
            </div>
          </div>
          <div class="project-cards-item cards-data" data-id="5">
            <p class="project-title">all projects</p>
            <p class="project-subtitle">25 items</p>
            <div class="options-icon">
              <i class="fas fa-ellipsis-v"></i>
            </div>
          </div>
          <div class="project-cards-item cards-data" data-id="6">
            <p class="project-title">all projects</p>
            <p class="project-subtitle">25 items</p>
            <div class="options-icon">
              <i class="fas fa-ellipsis-v"></i>
            </div>
          </div>
          <!-- check w/ javascript if is odd number of projects add remove-bottom class the last child -->
          <!-- <div class="project-cards-item remove-bottom"><p class="project-title">all projects</p><p class="project-subtitle">25 items</p></div> -->
          <div class="project-cards-item remove-bottom d-flex" id="add-button"><img src="./assets/plus.svg"
              alt="plus-icon" id="plus-icon" />
          </div>
        </div>
      </div>

      <!-- FORM-CARDS -->
      <div class="form-cards d-none">
        <div class="navbar">
          <div class="navbar-content d-flex">
            <div class="arrow-back"><i class='fas fa-arrow-left'></i></div>
          </div>
        </div>
        <div class="form-cards-content">
          <form class="d-flex">
            <label for="title">Title</label>
            <input type="text" name="title" id="title" />
            <label for="title">Description</label>
            <textarea name="description" id="description" cols="30" rows="5"></textarea>
            <button id="add-project" class="primary-button">Save</button>
          </form>
        </div>
      </div>

    </div>
    <div class="tasks">
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex, deserunt suscipit alias optio ipsum nobis repellat
        esse ad quam! Placeat vel beatae recusandae a rerum cum, ab consequuntur amet rem?</p>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex, deserunt suscipit alias optio ipsum nobis repellat
        esse ad quam! Placeat vel beatae recusandae a rerum cum, ab consequuntur amet rem?</p>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex, deserunt suscipit alias optio ipsum nobis repellat
        esse ad quam! Placeat vel beatae recusandae a rerum cum, ab consequuntur amet rem?</p>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex, deserunt suscipit alias optio ipsum nobis repellat
        esse ad quam! Placeat vel beatae recusandae a rerum cum, ab consequuntur amet rem?</p>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex, deserunt suscipit alias optio ipsum nobis repellat
        esse ad quam! Placeat vel beatae recusandae a rerum cum, ab consequuntur amet rem?</p>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex, deserunt suscipit alias optio ipsum nobis repellat
        esse ad quam! Placeat vel beatae recusandae a rerum cum, ab consequuntur amet rem?</p>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex, deserunt suscipit alias optio ipsum nobis repellat
        esse ad quam! Placeat vel beatae recusandae a rerum cum, ab consequuntur amet rem?</p>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex, deserunt suscipit alias optio ipsum nobis repellat
        esse ad quam! Placeat vel beatae recusandae a rerum cum, ab consequuntur amet rem?</p>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex, deserunt suscipit alias optio ipsum nobis repellat
        esse ad quam! Placeat vel beatae recusandae a rerum cum, ab consequuntur amet rem?</p>
    </div>
  </main>
  <script>
    const cards = document.querySelector('.project-cards')
    const form = document.querySelector('.form-cards')
    const addButton = document.querySelector('#add-button')
    const backButton = document.querySelector('.arrow-back')
    const addProjectButton = document.querySelector('#add-project')
    const projectCardItems = document.querySelectorAll('.cards-data')
    const options = document.querySelectorAll('.options-icon')

    addButton.onclick = () => {
      cards.classList.add('d-none')
      form.classList.remove('d-none')

    }

    backButton.onclick = () => {
      cards.classList.remove('d-none')
      form.classList.add('d-none')
    }

    addProjectButton.onclick = () => {

      //add/edit projects
      //if saves
      cards.classList.remove('d-none')
      form.classList.add('d-none')
      //render
      //display a toast message
    }



    projectCardItems.forEach((element, index) => {
      element.onclick = (event) => {
        var origin = event.srcElement || event.target;
        if (origin.tagName && origin.tagName.match(/div/i)) {
          //getting directly from the element
          console.log(event.target.getAttribute('data-id'));
          // do things
        }
        if (origin.tagName && origin.tagName.match(/p/i)) {
          //getting directly from the element
          console.log('clicked children ', element.getAttribute('data-id'));
          // do things
        }

      }
      options[index].onclick = () => {
        cards.classList.add('d-none')
        form.classList.remove('d-none')
        //display edit button and delete in form edit 
      }
    });


    projectCardItems.forEach(element => {
      element.addEventListener('long-press', (e) => {
        console.log('long press');
      })
    })






    //try later work with long press library or native application 
    const longPress = (elementAction, elementDisplay) => {

      // Create variable for setTimeout
      var delay;

      // Set number of milliseconds for longpress
      var timeout = 500;


      elementAction.addEventListener('mousedown', function (e) {
        var _this = this;
        delay = setTimeout(setAction, timeout);

        function setAction() {
          elementDisplay.classList.add('red-background');
        }

      }, true);

      elementAction.addEventListener('mouseup', function (e) {
        // On mouse up, we know it is no longer a longpress
        clearTimeout(delay);
      });

      elementAction.addEventListener('mouseout', function (e) {
        clearTimeout(delay);
      });

    }



  </script>
</body>

</html>